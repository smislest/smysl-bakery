# üì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä reg.ru —á–µ—Ä–µ–∑ SFTP

–ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git, –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ SFTP –∫–ª–∏–µ–Ω—Ç.

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ WinSCP (Windows)

### 1. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WinSCP
https://winscp.net/eng/download.php

### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

- **File protocol**: SFTP
- **Host name**: IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **Port number**: 22
- **User name**: –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **Password**: –≤–∞—à_–ø–∞—Ä–æ–ª—å

–ù–∞–∂–º–∏—Ç–µ **Login**

### 3. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ (—Å–µ—Ä–≤–µ—Ä) —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É:
```
/home/your-username/smysl-bakery
```

### 4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ: `E:\site-smyslest\site\smysl-bakery`
2. –í—ã–¥–µ–ª–∏—Ç–µ –í–°–ï —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ –ö–†–û–ú–ï:
   - `node_modules/`
   - `.next/`
   - `.git/`
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤—É—é –ø–∞–Ω–µ–ª—å (–Ω–∞ —Å–µ—Ä–≤–µ—Ä)

### 5. –°–æ–∑–¥–∞–π—Ç–µ .env.production –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. –í WinSCP –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.production`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –í—Å—Ç–∞–≤—å—Ç–µ:
```env
NEXT_PUBLIC_DIRECTUS_URL=https://smysl-bakery-directus.onrender.com
NEXT_PUBLIC_DIRECTUS_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
DIRECTUS_URL=https://smysl-bakery-directus.onrender.com
DIRECTUS_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
NODE_ENV=production
```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ deploy.sh

1. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª `deploy.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Properties ‚Üí Permissions
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `rwxr-xr-x` (755)
4. OK

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ FileZilla

### 1. –°–∫–∞—á–∞–π—Ç–µ FileZilla Client
https://filezilla-project.org/download.php?type=client

### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å

–í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –≤–≤–µ–¥–∏—Ç–µ:
- **Host**: sftp://IP-–≤–∞—à–µ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞
- **Username**: –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **Password**: –≤–∞—à_–ø–∞—Ä–æ–ª—å
- **Port**: 22

–ù–∞–∂–º–∏—Ç–µ **Quickconnect**

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã

1. **–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å**: –æ—Ç–∫—Ä–æ–π—Ç–µ `E:\site-smyslest\site\smysl-bakery`
2. **–ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å**: –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/home/your-username/`
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `smysl-bakery` (–ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Create directory)
4. –í–æ–π–¥–∏—Ç–µ –≤ –Ω–µ—ë
5. –í—ã–¥–µ–ª–∏—Ç–µ —Ñ–∞–π–ª—ã —Å–ª–µ–≤–∞ (–ù–ï –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ node_modules, .next, .git!)
6. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–∞ –ø—Ä–∞–≤—É—é –ø–∞–Ω–µ–ª—å

### 4. –°–æ–∑–¥–∞–π—Ç–µ .env.production

1. –í FileZilla (–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å) ‚Üí –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Create new file
2. –ù–∞–∑–æ–≤–∏—Ç–µ: `.env.production`
3. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ —Ñ–∞–π–ª ‚Üí View/Edit
4. –í—Å—Ç–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É Windows (SCP)

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell

```powershell
cd E:\site-smyslest\site\smysl-bakery
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤)

```powershell
# –£–¥–∞–ª–∏—Ç–µ –±–æ–ª—å—à–∏–µ –ø–∞–ø–∫–∏ –ø–µ—Ä–µ–¥ –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π (—Å–¥–µ–ª–∞–µ–º –∫–æ–ø–∏—é)
$excludeDirs = @('node_modules', '.next', '.git', 'dist', 'out')

# –°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
New-Item -Path ".\temp-deploy" -ItemType Directory -Force

# –ö–æ–ø–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
Get-ChildItem -Exclude $excludeDirs | Copy-Item -Destination ".\temp-deploy" -Recurse

# –°–æ–∑–¥–∞—ë–º –∞—Ä—Ö–∏–≤
Compress-Archive -Path ".\temp-deploy\*" -DestinationPath ".\smysl-bakery-deploy.zip"

# –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
Remove-Item -Path ".\temp-deploy" -Recurse -Force
```

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```powershell
scp smysl-bakery-deploy.zip user@your-server-ip:~/
```

### 4. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ

```bash
ssh user@your-server-ip

# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É
mkdir -p smysl-bakery

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ
unzip smysl-bakery-deploy.zip -d smysl-bakery/

# –£–¥–∞–ª–∏—Ç–µ –∞—Ä—Ö–∏–≤
rm smysl-bakery-deploy.zip

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É
cd smysl-bakery

# –°–æ–∑–¥–∞–π—Ç–µ .env.production
nano .env.production
# –í—Å—Ç–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞–≥—Ä—É–∑–∫–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd ~/smysl-bakery

# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–∫—Ä–∏–ø—Ç
chmod +x deploy.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./deploy.sh
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ö–æ–≥–¥–∞ –≤—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### –ß–µ—Ä–µ–∑ WinSCP/FileZilla
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
3. –í SSH —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cd ~/smysl-bakery
./deploy.sh
```

### –ß–µ—Ä–µ–∑ SCP
```powershell
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp -r E:\site-smyslest\site\smysl-bakery\* user@your-server-ip:~/smysl-bakery/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ SSH)
cd ~/smysl-bakery
./deploy.sh
```

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

‚ö†Ô∏è **–ù–ï –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
- `node_modules/` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤ Docker
- `.next/` - —Å–æ–±–µ—Ä—ë—Ç—Å—è –≤ Docker
- `.git/` - –Ω–µ –Ω—É–∂–Ω–∞ –Ω–∞ production
- `*.log` - –ª–æ–≥–∏
- `.env.local` - —Ç–æ–ª—å–∫–æ –¥–ª—è development

‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ:**
- –í—Å–µ `.js`, `.ts`, `.tsx`, `.json` —Ñ–∞–π–ª—ã
- `Dockerfile`
- `docker-compose.yml`
- `.dockerignore`
- `deploy.sh`
- `public/` —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏
- `app/`, `lib/`, `content/` –∏ –¥—Ä—É–≥–∏–µ –ø–∞–ø–∫–∏ —Å –∫–æ–¥–æ–º

‚úÖ **–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- `.env.production` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
